{"ast":null,"code":"import _slicedToArray from \"/home/tadeu/JSProjects/PI/FluxoDeRestaurante/frontend/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/tadeu/JSProjects/PI/FluxoDeRestaurante/frontend/web/src/pages/table/index.js\";\nimport React, { useState, useEffect, useMemo } from \"react\";\nimport api from \"../../services/api\";\nimport NavBar from \"../../components/navBar\";\nimport HomeBar from \"../../components/homeBar\";\nimport \"./styles.css\";\nimport direction from \"../../assets/button/direction.svg\";\nimport exclude from \"../../assets/button/destroy.svg\";\nexport default function Table() {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        tables = _useState2[0],\n        setTables = _useState2[1];\n\n  const preview = useMemo(() => {\n    return tables.map(item => React.createElement(React.Fragment, null, React.createElement(\"span\", {\n      key: item._id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 17\n      },\n      __self: this\n    }, \"Mesa: \", React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18\n      },\n      __self: this\n    }, item.number)), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20\n      },\n      __self: this\n    }, \"Lugares: \", React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21\n      },\n      __self: this\n    }, item.vacancies)), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23\n      },\n      __self: this\n    }, \"Disponibilidade: \", React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }, item.availability === true ? \"Disponivel\" : \"Ocupada\")), React.createElement(\"button\", {\n      className: \"exclude\",\n      onClick: () => handleDestroy(item._id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: exclude,\n      alt: \"excluir\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"direction\",\n      onClick: () => handleAvailability(item),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: direction,\n      alt: \"Ocupar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    })));\n  }, [tables]);\n  useEffect(() => {\n    setTables(JSON.parse(localStorage.getItem(\"tables\")));\n  }, []);\n\n  async function handleDestroy(table_id) {\n    const response = await api.delete(\"table/\".concat(table_id));\n    console.log(response);\n    const index = tables.indexOf(table_id);\n    tables.splice(index, 1);\n    console.log(tables);\n    localStorage.setItem(\"tables\", tables);\n    setTables(tables);\n  }\n\n  function handleAvailability(table) {\n    table.availability === true ? table.availability = false : table.availability = true;\n    const index = tables.indexOf(table._id);\n    tables[index] = table;\n    localStorage.setItem(\"tables\", tables);\n    setTables(tables);\n    console.log(tables);\n  }\n\n  return React.createElement(React.Fragment, null, React.createElement(HomeBar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    id: \"containerTable\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(NavBar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }), React.createElement(\"section\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"listTable\",\n    className: \"tableOne\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, preview), React.createElement(\"div\", {\n    id: \"createTable\",\n    className: \"tableThree\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }))));\n}","map":{"version":3,"sources":["/home/tadeu/JSProjects/PI/FluxoDeRestaurante/frontend/web/src/pages/table/index.js"],"names":["React","useState","useEffect","useMemo","api","NavBar","HomeBar","Table","tables","setTables","preview","map","item","_id","number","vacancies","availability","handleDestroy","exclude","handleAvailability","direction","JSON","parse","localStorage","getItem","table_id","response","delete","console","log","index","indexOf","splice","setItem","table"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useMemo } from \"react\";\nimport api from \"../../services/api\"\nimport NavBar from \"../../components/navBar\";\nimport HomeBar from \"../../components/homeBar\";\nimport \"./styles.css\";\n\nimport direction from \"../../assets/button/direction.svg\";\nimport exclude from \"../../assets/button/destroy.svg\";\n\nexport default function Table() {\n  const [tables, setTables]= useState([]);\nconst preview = useMemo(()=>{\n  return(\n      tables.map(item => (\n        <>\n\n          <span key={item._id}>\n            Mesa: <strong>{item.number}</strong>\n          </span>\n          <span>\n            Lugares: <strong>{item.vacancies }</strong>\n          </span>\n          <span>\n            Disponibilidade: <strong>{item.availability=== true?\"Disponivel\":\"Ocupada\"}</strong>\n          </span>\n          <button className=\"exclude\" onClick={()=>handleDestroy(item._id)}>\n            <img src={exclude} alt=\"excluir\" />\n          </button>\n          <button className=\"direction\" onClick={()=> handleAvailability(item)}>\n            <img src={direction} alt=\"Ocupar\" />\n          </button>\n          <br />\n        </>\n      ))\n  )\n},[tables])\n  useEffect(() => {\n   setTables(JSON.parse(localStorage.getItem(\"tables\")));\n\n  }, []);\n  async function handleDestroy(table_id){\n    const response = await api.delete(`table/${table_id}`)\n    console.log(response)\n    const index = tables.indexOf(table_id)\n    tables.splice(index,1)\n    console.log(tables)\n    localStorage.setItem(\"tables\", tables)\n    setTables(tables)\n  }\n  function handleAvailability(table){\n    table.availability===true?table.availability = false:table.availability = true\n    const index = tables.indexOf(table._id)\n    tables[index] = table\n    localStorage.setItem(\"tables\", tables)\n    setTables(tables)\n    console.log(tables)\n  }\n\n  return (\n\n    <>\n      <HomeBar />\n      <div id=\"containerTable\">\n        <NavBar />\n        <section>\n          <div id=\"listTable\" className=\"tableOne\">\n           {preview}\n          </div>\n          <div id=\"createTable\" className=\"tableThree\"></div>\n        </section>\n      </div>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}