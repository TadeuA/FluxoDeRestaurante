{"ast":null,"code":"import _slicedToArray from \"/home/tadeu/JSProjects/PI/FluxoDeRestaurante/frontend/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/tadeu/JSProjects/PI/FluxoDeRestaurante/frontend/web/src/pages/profile/index.js\";\nimport React, { useState, useEffect, useMemo } from \"react\";\nimport api from \"../../services/api\";\nimport { Link } from \"react-router-dom\";\nimport HomeBar from \"../../components/homeBar\";\nimport \"./styles.css\";\nimport bgProfile from \"../../assets/profile.jpg\";\nimport imgConfig from \"../../assets/button/config.svg\";\nexport default function Profile({\n  history\n}) {\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        user = _useState2[0],\n        setUser = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        thumb = _useState4[0],\n        setThumb = _useState4[1];\n\n  useEffect(() => {\n    async function loadUser() {\n      const user = JSON.parse(localStorage.getItem(\"user\"));\n      setUser(user);\n    }\n\n    loadUser();\n  }, []);\n  useMemo(() => {\n    !user.thumbnail === \"\" ? setThumb(user.thumbnail) : setThumb(bgProfile);\n  }, [thumb]);\n\n  async function handleOpen() {\n    const dishs = await api.get(\"/dish\");\n    const ingredients = await api.get(\"/ingredients\");\n    const tables = await api.get(\"/table\");\n    const classification = await api.get(\"/types\");\n    localStorage.setItem(\"dishs\", JSON.stringify(dishs.data));\n    localStorage.setItem(\"ingredients\", JSON.stringify(ingredients.data));\n    localStorage.setItem(\"tables\", JSON.stringify(tables.data));\n    localStorage.setItem(\"classification\", JSON.stringify(classification.data));\n    history.push(\"/restaurant\");\n  }\n\n  return React.createElement(React.Fragment, null, React.createElement(HomeBar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    id: \"containerProfile\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"panel\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"frist\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"open\",\n    onClick: handleOpen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, \"Entrar no restaurante\"), React.createElement(\"header\", {\n    style: {\n      backgroundImage: \"url(\".concat(thumb, \")\")\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }), React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, user.name), React.createElement(Link, {\n    to: \"/register\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: imgConfig,\n    alt: \"edit profile\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"Restaurantes com Fideliza\\xE7\\xE3o\"), React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  })))));\n}","map":{"version":3,"sources":["/home/tadeu/JSProjects/PI/FluxoDeRestaurante/frontend/web/src/pages/profile/index.js"],"names":["React","useState","useEffect","useMemo","api","Link","HomeBar","bgProfile","Profile","history","user","setUser","thumb","setThumb","loadUser","JSON","parse","localStorage","getItem","thumbnail","handleOpen","dishs","get","ingredients","tables","classification","setItem","stringify","data","push","backgroundImage","name","imgConfig"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useMemo } from \"react\";\nimport api from \"../../services/api\";\nimport { Link } from \"react-router-dom\";\nimport HomeBar from \"../../components/homeBar\";\n\nimport \"./styles.css\";\nimport bgProfile from \"../../assets/profile.jpg\";\nimport imgConfig from \"../../assets/button/config.svg\";\n\nexport default function Profile({ history }) {\n  const [user, setUser] = useState(\"\");\n  const [thumb, setThumb] = useState(\"\");\n\n  useEffect(() => {\n    async function loadUser() {\n      const user = JSON.parse(localStorage.getItem(\"user\"));\n      setUser(user);\n    }\n\n    loadUser();\n  }, []);\n  useMemo(() => {\n    !user.thumbnail === \"\" ? setThumb(user.thumbnail) : setThumb(bgProfile);\n  }, [thumb]);\n  async function handleOpen() {\n    const dishs = await api.get(\"/dish\");\n    const ingredients = await api.get(\"/ingredients\");\n    const tables = await api.get(\"/table\");\n    const classification = await api.get(\"/types\");\n    localStorage.setItem(\"dishs\", JSON.stringify(dishs.data));\n    localStorage.setItem(\"ingredients\", JSON.stringify(ingredients.data));\n    localStorage.setItem(\"tables\", JSON.stringify(tables.data));\n    localStorage.setItem(\"classification\", JSON.stringify(classification.data))\n    history.push(\"/restaurant\");\n  }\n  return (\n    <>\n      <HomeBar />\n      <div id=\"containerProfile\">\n        <div id=\"panel\">\n          <div id=\"frist\">\n            <button className=\"open\" onClick={handleOpen}>\n              Entrar no restaurante\n            </button>\n\n            <header style={{ backgroundImage: `url(${thumb})` }} />\n            <h1>{user.name}</h1>\n            <Link to=\"/register\">\n              <img src={imgConfig} alt=\"edit profile\" />\n            </Link>\n          </div>\n          <div>\n            <label>Restaurantes com Fidelização</label>\n            <ul></ul>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}