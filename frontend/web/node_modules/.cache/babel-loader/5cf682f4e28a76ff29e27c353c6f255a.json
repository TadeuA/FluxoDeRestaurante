{"ast":null,"code":"import _slicedToArray from \"/home/tadeu/JSProjects/PI/FluxoDeRestaurante/frontend/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/tadeu/JSProjects/PI/FluxoDeRestaurante/frontend/web/src/pages/orders/index.js\";\nimport React, { useEffect, useState, useMemo } from \"react\";\nimport api from \"../../services/api\";\nimport NavBar from \"../../components/navBar\";\nimport HomeBar from \"../../components/homeBar\";\nimport { Modal } from 'react-bootstrap';\nimport useForm from \"react-hook-form\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport \"./styles.css\";\nimport destroy from \"../../assets/button/destroy.svg\";\nexport default function Orders() {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        tables = _useState2[0],\n        setTables = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        dishs = _useState4[0],\n        setDishs = _useState4[1];\n\n  const _useState5 = useState([]),\n        _useState6 = _slicedToArray(_useState5, 2),\n        classifications = _useState6[0],\n        setClassifications = _useState6[1];\n\n  const _useState7 = useState(\"\"),\n        _useState8 = _slicedToArray(_useState7, 2),\n        category = _useState8[0],\n        setCategory = _useState8[1];\n\n  const _useState9 = useState(\"\"),\n        _useState10 = _slicedToArray(_useState9, 2),\n        dish = _useState10[0],\n        setDish = _useState10[1];\n\n  const _useState11 = useState(false),\n        _useState12 = _slicedToArray(_useState11, 2),\n        show = _useState12[0],\n        setShow = _useState12[1];\n\n  const _useState13 = useState([]),\n        _useState14 = _slicedToArray(_useState13, 2),\n        ingredients = _useState14[0],\n        setIngredients = _useState14[1];\n\n  const _useState15 = useState([]),\n        _useState16 = _slicedToArray(_useState15, 2),\n        extra = _useState16[0],\n        setExtra = _useState16[1];\n\n  const _useState17 = useState([]),\n        _useState18 = _slicedToArray(_useState17, 2),\n        command = _useState18[0],\n        setCommand = _useState18[1];\n\n  const _useForm = useForm(),\n        handleSubmit = _useForm.handleSubmit,\n        register = _useForm.register,\n        errors = _useForm.errors;\n\n  const _useState19 = useState(null),\n        _useState20 = _slicedToArray(_useState19, 2),\n        destiny = _useState20[0],\n        setDestiny = _useState20[1];\n\n  const _useState21 = useState(\"\"),\n        _useState22 = _slicedToArray(_useState21, 2),\n        classTable = _useState22[0],\n        setClassTable = _useState22[1];\n\n  const _useState23 = useState(\"\"),\n        _useState24 = _slicedToArray(_useState23, 2),\n        table = _useState24[0],\n        setTable = _useState24[1];\n\n  const _useState25 = useState(\"\"),\n        _useState26 = _slicedToArray(_useState25, 2),\n        user = _useState26[0],\n        setUser = _useState26[1];\n\n  function nextRadio() {\n    setClassTable(\"\");\n    setTable(\"\");\n  }\n\n  function refresh() {\n    setCommand([]);\n    nextRadio();\n    setDestiny(null);\n  }\n\n  useEffect(() => {\n    nextRadio();\n  }, [destiny]);\n\n  const inSubmit = async data => {\n    let obj = {\n      costumer: null,\n      salesman: user.name,\n      destiny,\n      table: null,\n      adrress: {\n        zipCode: null,\n        number: null,\n        complement: null\n      },\n      orders: command\n    };\n    console.log(destiny);\n    const zipCode = data.zipCode,\n          number = data.number,\n          complement = data.complement,\n          costumer = data.costumer;\n\n    switch (destiny) {\n      case 'tables':\n        obj.table = table;\n        handleCommand(obj);\n        break;\n\n      case 'delivery':\n        obj.adrress = {\n          zipCode: zipCode,\n          number: number,\n          complement: complement\n        };\n        obj.costumer = costumer;\n        handleCommand(obj);\n        break;\n\n      case 'take':\n        obj.costumer = costumer;\n        handleCommand(obj);\n        break;\n\n      default:\n        console.log(\"selecione uma opção de destino\");\n    }\n  };\n\n  async function handleCommand(obj) {\n    const response = await api.post(\"command\", obj);\n    console.log(response.data);\n    refresh();\n  }\n\n  const onSubmit = async data => {\n    const ps = data.ps,\n          amount = data.amount;\n    delete data.ps;\n    delete data.amount;\n    let withdraw = [];\n    let extra = [];\n\n    for (let prop in data) {\n      if (data[prop] === false) {\n        delete data[prop];\n      } else {\n        dish.ingredients.map(item => {\n          if (item._id === data[prop]) {\n            withdraw.push(data[prop]);\n            delete data[prop];\n          }\n        });\n\n        if (data[prop]) {\n          extra.push(data[prop]);\n          delete data[prop];\n        }\n      }\n    }\n\n    const response = await api.post(\"orders\", {\n      dish: dish._id,\n      withdraw,\n      extra,\n      ps,\n      amount\n    });\n    let arr = command;\n    arr.push(response.data);\n    setCommand(arr);\n    handleClose();\n  };\n\n  const numTable = React.createElement(React.Fragment, null, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, \"Local\"), React.createElement(\"select\", {\n    onChange: event => setClassTable(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    value: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }), classifications.map(item => {\n    if (item.section === \"table\") {\n      return React.createElement(\"option\", {\n        key: item._id,\n        value: item.classification,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, item.classification);\n    }\n  })), classTable !== \"\" ? React.createElement(React.Fragment, null, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, \"N\\xFAmero da mesa\"), React.createElement(\"select\", {\n    onChange: event => setTable(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    value: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }), tables.map(item => {\n    if (item.classification.classification === classTable) {\n      return React.createElement(\"option\", {\n        value: item._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, item.number);\n    }\n  }))) : null);\n  const delivery = React.createElement(React.Fragment, null, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, \"Cliente: \"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"costumer\",\n    ref: register({\n      required: true\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }, \"CEP: \"), React.createElement(\"input\", {\n    type: \"number\",\n    name: \"zipCode\",\n    ref: register({\n      required: true\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }, \"N\\xFAmero\"), React.createElement(\"input\", {\n    type: \"number\",\n    name: \"number\",\n    ref: register({\n      required: true\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }, \"Complemento\"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"complement\",\n    ref: register({\n      required: false\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }));\n  const costummer = React.createElement(React.Fragment, null, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169\n    },\n    __self: this\n  }, \"Cliente: \"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"costumer\",\n    ref: register({\n      required: true\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }));\n  const theDestiny = destiny === \"tables\" ? React.createElement(React.Fragment, null, numTable) : destiny === \"delivery\" ? React.createElement(React.Fragment, null, delivery) : destiny === \"take\" ? React.createElement(React.Fragment, null, costummer) : null;\n  const theCommand = command.length > 0 ? React.createElement(React.Fragment, null, React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183\n    },\n    __self: this\n  }, command.map(item => {\n    const index = command.indexOf(item) + 1;\n    return React.createElement(\"li\", {\n      key: item._id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, index), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, item.amount, \"x \", item.dish.name), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: destroy,\n      alt: \"destroy\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    })), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, item.withdraw.length > 0 ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, \"Retirar: \"), item.withdraw.map(subitem => React.createElement(\"span\", {\n      key: subitem._id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, subitem.name))) : null, item.extra.length > 0 ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, \"Adicionar: \"), item.extra.map(subitem => React.createElement(\"span\", {\n      key: subitem._id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, subitem.name))) : null, item.ps.length > 0 ? React.createElement(React.Fragment, null, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, \"Observa\\xE7\\xE3o:\"), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, item.ps)) : null, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, \"Valor R$\", item.totalPrice))));\n  })), React.createElement(\"button\", {\n    id: \"confirm-command\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225\n    },\n    __self: this\n  }, \"Confirmar\")) : React.createElement(\"span\", {\n    className: \"empty\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228\n    },\n    __self: this\n  }, \"Comanda vazia\");\n\n  function handleClose() {\n    setShow(false);\n  }\n\n  function handleShow(item) {\n    setDish(item);\n    setIngredients(item.ingredients);\n    setShow(true);\n  }\n\n  useEffect(() => {\n    setUser(JSON.parse(localStorage.getItem(\"user\")));\n    setTables(JSON.parse(localStorage.getItem(\"tables\")));\n    const arr = JSON.parse(localStorage.getItem(\"dishs\"));\n    setDishs(arr);\n    setClassifications(JSON.parse(localStorage.getItem(\"classification\")));\n    let variable = [];\n\n    function resolveThis(element, index, array) {\n      if (element.classification.classification === \"Extra\") {\n        variable.push(element);\n      }\n    }\n\n    arr.forEach(resolveThis);\n    setExtra(variable);\n  }, []);\n  const navClassifications = useMemo(() => {\n    return React.createElement(\"div\", {\n      id: \"navClass\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, classifications.map(item => {\n      if (item.section === \"dish\" && item.classification !== \"Extra\") {\n        return React.createElement(\"header\", {\n          key: item._id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 262\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          onClick: () => setCategory(item.classification),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 263\n          },\n          __self: this\n        }, item.classification));\n      }\n    }));\n  }, [classifications]);\n  const listDish = useMemo(() => {\n    if (category === \"\") {\n      return React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278\n        },\n        __self: this\n      }, \"Selecione uma categoria\");\n    } else {\n      return React.createElement(\"div\", {\n        id: \"listDish\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281\n        },\n        __self: this\n      }, dishs.map(item => {\n        if (item.classification.classification === category) {\n          return React.createElement(\"header\", {\n            key: item._id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 285\n            },\n            __self: this\n          }, React.createElement(\"button\", {\n            onClick: () => handleShow(item),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 286\n            },\n            __self: this\n          }, item.name));\n        }\n      }));\n    }\n  }, [category]);\n  const modal = React.createElement(Modal, {\n    show: show,\n    onHide: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302\n    },\n    __self: this\n  }, React.createElement(Modal.Header, {\n    closeButton: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303\n    },\n    __self: this\n  }, React.createElement(Modal.Title, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304\n    },\n    __self: this\n  }, dish.name)), React.createElement(Modal.Body, {\n    className: \"options\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307\n    },\n    __self: this\n  }, \"Selecione os Ingredientes que deseja retirar\", React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309\n    },\n    __self: this\n  }, ingredients.map(item => React.createElement(React.Fragment, null, React.createElement(\"input\", {\n    key: item._id,\n    type: \"checkbox\",\n    name: item.name,\n    value: item._id,\n    ref: register,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: item.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320\n    },\n    __self: this\n  }, item.name))))), React.createElement(Modal.Body, {\n    className: \"options\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325\n    },\n    __self: this\n  }, \"Selecione os extras que deseja adicionar:\", React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327\n    },\n    __self: this\n  }, extra.map(item => React.createElement(React.Fragment, null, React.createElement(\"input\", {\n    key: item._id,\n    type: \"checkbox\",\n    name: item.name,\n    value: item._id,\n    ref: register,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: item.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338\n    },\n    __self: this\n  }, item.name))))), React.createElement(Modal.Body, {\n    className: \"options\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"ps\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344\n    },\n    __self: this\n  }, \"Observa\\xE7\\xF5es\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344\n    },\n    __self: this\n  }), React.createElement(\"textarea\", {\n    name: \"ps\",\n    ref: register,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345\n    },\n    __self: this\n  })), React.createElement(Modal.Footer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"amount\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 348\n    },\n    __self: this\n  }, \"Quantidade\"), React.createElement(\"input\", {\n    type: \"number\",\n    name: \"amount\",\n    ref: register,\n    min: \"1\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 349\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    variant: \"secondary\",\n    onClick: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356\n    },\n    __self: this\n  }, \"Close\"), React.createElement(\"button\", {\n    variant: \"primary\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359\n    },\n    __self: this\n  }, \"Save Changes\"))));\n  return React.createElement(React.Fragment, null, React.createElement(HomeBar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    id: \"containerOrders\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370\n    },\n    __self: this\n  }, React.createElement(NavBar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 371\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    id: \"alingOrders\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 372\n    },\n    __self: this\n  }, navClassifications, listDish), React.createElement(\"input\", {\n    type: \"checkbox\",\n    id: \"command\",\n    hidden: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"command\",\n    className: \"command-icon\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 378\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 378\n    },\n    __self: this\n  }, \"Comanda\"), \" \"), React.createElement(\"nav\", {\n    className: \"command-menu\",\n    id: \"command-list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: handleSubmit(inSubmit),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 382\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"tables\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 384\n    },\n    __self: this\n  }, \"Mesa\"), React.createElement(\"input\", {\n    type: \"radio\",\n    name: \"destiny\",\n    onChange: () => setDestiny(\"tables\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 385\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 387\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"delivery\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 388\n    },\n    __self: this\n  }, \"Entrega\"), React.createElement(\"input\", {\n    type: \"radio\",\n    name: \"destiny\",\n    onChange: () => setDestiny(\"delivery\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 389\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 391\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"take\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 392\n    },\n    __self: this\n  }, \"Levar\"), React.createElement(\"input\", {\n    type: \"radio\",\n    name: \"destiny\",\n    onChange: () => setDestiny(\"take\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393\n    },\n    __self: this\n  }))), theDestiny, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 397\n    },\n    __self: this\n  }), theCommand))), modal);\n}","map":{"version":3,"sources":["/home/tadeu/JSProjects/PI/FluxoDeRestaurante/frontend/web/src/pages/orders/index.js"],"names":["React","useEffect","useState","useMemo","api","NavBar","HomeBar","Modal","useForm","Orders","tables","setTables","dishs","setDishs","classifications","setClassifications","category","setCategory","dish","setDish","show","setShow","ingredients","setIngredients","extra","setExtra","command","setCommand","handleSubmit","register","errors","destiny","setDestiny","classTable","setClassTable","table","setTable","user","setUser","nextRadio","refresh","inSubmit","data","obj","costumer","salesman","name","adrress","zipCode","number","complement","orders","console","log","handleCommand","response","post","onSubmit","ps","amount","withdraw","prop","map","item","_id","push","arr","handleClose","numTable","event","target","value","section","classification","delivery","required","costummer","theDestiny","theCommand","length","index","indexOf","destroy","subitem","totalPrice","handleShow","JSON","parse","localStorage","getItem","variable","resolveThis","element","array","forEach","navClassifications","listDish","modal"],"mappings":"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","sourcesContent":["import React, {useEffect, useState, useMemo} from \"react\";\nimport api from \"../../services/api\";\nimport NavBar from \"../../components/navBar\";\nimport HomeBar from \"../../components/homeBar\";\nimport { Modal} from 'react-bootstrap';\nimport useForm from \"react-hook-form\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport \"./styles.css\"\nimport destroy from \"../../assets/button/destroy.svg\";\n\n\n\n\nexport default function Orders() {\n  const [tables, setTables] = useState([])\n  const [dishs, setDishs] = useState([]);\n  const [classifications, setClassifications] = useState([]);\n  const [category, setCategory] = useState(\"\");\n  const [dish, setDish] = useState(\"\")\n  const [show, setShow] = useState(false);\n  const [ingredients, setIngredients] = useState([])\n  const [extra, setExtra] = useState([]);\n  const [command, setCommand] = useState([]);\n  const { handleSubmit, register, errors } = useForm();\n  const [destiny, setDestiny] = useState(null);\n  const [classTable, setClassTable] = useState(\"\")\n  const [table, setTable] = useState(\"\")\n  const [user, setUser] = useState(\"\")\n\n\n  function nextRadio(){\n    setClassTable(\"\")\n    setTable(\"\")\n  }\n  function refresh(){\n    setCommand([])\n    nextRadio()\n    setDestiny(null)\n  }\n\n  useEffect(()=>{nextRadio()},[destiny])\n  const inSubmit = async data =>{\n    let obj ={\n      costumer : null,\n      salesman:user.name,\n      destiny,\n      table: null,\n      adrress: {\n        zipCode: null,\n        number: null,\n        complement: null\n      },\n      orders: command\n    }\n    console.log(destiny)\n    const {zipCode, number, complement, costumer} = data\n    switch (destiny) {\n      case 'tables':\n        obj.table = table\n        handleCommand(obj)\n        break;\n      case 'delivery':\n\n        obj.adrress = {\n          zipCode: zipCode,\n          number: number,\n          complement: complement\n        }\n        obj.costumer = costumer\n        handleCommand(obj)\n        break;\n      case 'take':\n\n        obj.costumer = costumer\n        handleCommand(obj)\n        break;\n      default:\n        console.log(\"selecione uma opção de destino\");\n\n    }\n  }\n  async function handleCommand(obj){\n    const response = await api.post(\"command\", obj)\n    console.log(response.data)\n    refresh()\n  }\n\n  const onSubmit = async data => {\n    const { ps, amount } = data;\n    delete data.ps;\n    delete data.amount\n    let withdraw = []\n    let extra = []\n    for (let prop in data) {\n      if (data[prop] === false) {\n        delete data[prop];\n      }else{\n        dish.ingredients.map(item => {\n          if(item._id === data[prop]){\n            withdraw.push(data[prop])\n            delete data[prop]\n          }})\n        if(data[prop]){\n          extra.push(data[prop])\n          delete data[prop]\n        }\n      }\n  }\n    const response = await api.post(\"orders\",{\n      dish: dish._id,\n      withdraw,\n      extra,\n      ps,\n      amount\n    })\n    let arr = command\n    arr.push(response.data)\n\n    setCommand(arr)\n\n    handleClose()\n  }\n  const numTable =(\n     <>\n      <label>Local</label>\n      <select onChange={event => setClassTable(event.target.value)}>\n        <option value=\"\" ></option>\n        {classifications.map( item => {\n          if(item.section === \"table\"){\n            return(\n            <option\n              key={item._id}\n              value={item.classification}\n            >\n              {item.classification}\n            </option>\n            )\n          }\n        })}\n      </select>\n      {classTable !== \"\"\n      ?<>\n        <label>Número da mesa</label>\n        <select onChange={event => setTable(event.target.value)}>\n          <option value=\"\"></option>\n          {tables.map( item => {\n            if(item.classification.classification === classTable){\n              return(\n                <option value={item._id}>{item.number}</option>\n          )}})}\n      </select>\n      </>\n    :null}\n  </>\n  )\n\n  const delivery = <>\n      <label>Cliente: </label>\n      <input type=\"text\" name=\"costumer\"ref={register({ required: true })}/>\n      <label>CEP: </label>\n      <input type=\"number\" name=\"zipCode\" ref={register({ required: true })}/>\n      <label>Número</label>\n      <input type=\"number\" name=\"number\" ref={register({ required: true })}/>\n      <label>Complemento</label>\n      <input type=\"text\" name=\"complement\" ref={register({ required: false })}/>\n    </>\n\n  const costummer = <>\n    <label>Cliente: </label>\n    <input type=\"text\" name=\"costumer\" ref={register({ required: true })}/>\n    </>\n  const theDestiny = destiny === \"tables\"\n    ? <>{numTable}</>\n    :destiny === \"delivery\"\n      ?<>{delivery}</>\n      :destiny === \"take\"\n        ?<>{costummer}</>\n        :null\n\n  const theCommand = command.length > 0\n    ?(\n      <>\n      <ul>\n        {command.map(item => {\n          const index = (command.indexOf(item) +1 )\n            return(\n              <li key={item._id}>\n                <span>{index}</span>\n                <span>{item.amount}x {item.dish.name}</span>\n                <button><img src={destroy} alt=\"destroy\"/></button>\n                <ul>\n                  <li>\n                    {item.withdraw.length > 0\n                      ?<div>\n                        <h5>Retirar: </h5>\n                        {item.withdraw.map(subitem =>(\n                          <span key={subitem._id}>\n                            {subitem.name}\n                          </span>\n                        ))}\n                      </div>\n                    :null}\n                    {item.extra.length > 0\n                      ?<div>\n                        <h5>Adicionar: </h5>\n                        {item.extra.map(subitem =>(\n                          <span key={subitem._id}>\n                            {subitem.name}\n                          </span>\n                        ))}\n                      </div>\n                    :null}\n                    {item.ps.length > 0\n                    ?<>\n                      <h5>Observação:</h5>\n                      <span>{item.ps}</span>\n                    </>\n                    :null }\n                    <h5>Valor R${item.totalPrice}</h5>\n                  </li>\n                </ul>\n              </li>\n        )})}\n      </ul>\n      <button id=\"confirm-command\" type=\"submit\">Confirmar</button>\n      </>\n    )\n    :(<span className=\"empty\">Comanda vazia</span>)\n\n  function handleClose(){\n    setShow(false);\n  }\n function handleShow(item){\n   setDish(item)\n   setIngredients(item.ingredients)\n   setShow(true);\n  }\n\n  useEffect(()=>{\n    setUser(JSON.parse(localStorage.getItem(\"user\")))\n    setTables(JSON.parse(localStorage.getItem(\"tables\")))\n    const arr = JSON.parse(localStorage.getItem(\"dishs\"))\n    setDishs(arr);\n    setClassifications(JSON.parse(localStorage.getItem(\"classification\")));\n    let variable = []\n    function resolveThis(element, index, array){\n    if(element.classification.classification === \"Extra\"){\n      variable.push(element)\n    }\n  }\n\n  arr.forEach(resolveThis)\n  setExtra(variable)\n  },[])\n\n  const navClassifications = useMemo(() => {\n    return(\n      <div id=\"navClass\">\n      {classifications.map(item => {\n        if(item.section === \"dish\" && item.classification !== \"Extra\"){\n          return(\n            <header key={item._id}>\n              <button onClick={() => setCategory(item.classification)}>\n                {item.classification}\n              </button>\n            </header>\n          )\n        }\n      })}\n\n     </div>\n    )\n\n  }, [classifications])\n\n  const listDish = useMemo(() => {\n    if(category === \"\"){\n      return <h1>Selecione uma categoria</h1>\n    }else{\n      return(\n        <div id=\"listDish\">\n          {dishs.map(item => {\n            if(item.classification.classification === category){\n              return(\n                <header key={item._id}>\n                  <button onClick={() => handleShow(item)}>\n                    {item.name}\n                  </button>\n                </header>\n              )\n            }\n          })}\n        </div>\n      )\n    }\n  },[category])\n\n\n\n  const modal = (\n      <Modal show={show} onHide={handleClose}>\n        <form onSubmit={handleSubmit(onSubmit)}>\n          <Modal.Header closeButton>\n            <Modal.Title>{dish.name}</Modal.Title>\n          </Modal.Header>\n\n          <Modal.Body className=\"options\">\n            Selecione os Ingredientes que deseja retirar\n            <div>\n            {ingredients.map(item => (\n            <>\n              <input\n                key={item._id}\n                type=\"checkbox\"\n                name={item.name}\n                value={item._id}\n                ref={register}\n\n              />\n              <label htmlFor={item.name}>{item.name}</label>\n            </>\n          ))}\n          </div>\n          </Modal.Body>\n          <Modal.Body className=\"options\">\n            Selecione os extras que deseja adicionar:\n            <div>\n            {extra.map(item => (\n            <>\n              <input\n                key={item._id}\n                type=\"checkbox\"\n                name={item.name}\n                value={item._id}\n                ref={register}\n\n              />\n              <label htmlFor={item.name}>{item.name}</label>\n            </>\n          ))}\n          </div>\n          </Modal.Body>\n          <Modal.Body className=\"options\">\n            <label htmlFor=\"ps\">Observações</label><br/>\n            <textarea name=\"ps\" ref={register} />\n          </Modal.Body>\n          <Modal.Footer>\n            <label htmlFor=\"amount\">Quantidade</label>\n            <input\n                type=\"number\"\n                name=\"amount\"\n                ref={register}\n                min=\"1\"\n                required\n            />\n            <button variant=\"secondary\" onClick={handleClose}>\n              Close\n            </button>\n            <button variant=\"primary\" type=\"submit\">\n              Save Changes\n            </button>\n          </Modal.Footer>\n        </form>\n      </Modal>\n  )\n\n  return (\n    <>\n      <HomeBar />\n      <div id=\"containerOrders\">\n        <NavBar />\n        <div id=\"alingOrders\">\n        {navClassifications}\n        {listDish}\n        </div>\n\n      <input type=\"checkbox\" id=\"command\"hidden />\n      <label htmlFor=\"command\" className=\"command-icon\"><p>Comanda</p> </label>\n\n      <nav className=\"command-menu\" id=\"command-list\" >\n        <form onSubmit={handleSubmit(inSubmit)}>\n          <div>\n            <div>\n              <label htmlFor=\"tables\">Mesa</label>\n              <input type=\"radio\" name=\"destiny\" onChange={() => setDestiny(\"tables\")} />\n            </div>\n            <div>\n              <label htmlFor=\"delivery\">Entrega</label>\n              <input type=\"radio\" name=\"destiny\" onChange={() => setDestiny(\"delivery\")}/>\n            </div>\n            <div>\n              <label htmlFor=\"take\">Levar</label>\n              <input type=\"radio\" name=\"destiny\" onChange={() => setDestiny(\"take\")}/>\n            </div>\n          </div>\n          {theDestiny}\n          <br/>\n          {theCommand}\n        </form>\n      </nav>\n\n      </div>\n      {modal}\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}