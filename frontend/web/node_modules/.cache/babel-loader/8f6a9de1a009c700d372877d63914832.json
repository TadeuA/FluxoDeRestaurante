{"ast":null,"code":"import _slicedToArray from \"/home/tadeu/JSProjects/PI/FluxoDeRestaurante/frontend/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/tadeu/JSProjects/PI/FluxoDeRestaurante/frontend/web/src/pages/login/index.js\";\nimport React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport api from \"../../services/api\";\nimport \"./styles.css\";\nexport default function Login({\n  history\n}) {\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        email = _useState2[0],\n        setEmail = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        password = _useState4[0],\n        setPassword = _useState4[1];\n\n  async function handleSubmit(event) {\n    event.preventDefault();\n    const response = await api.get(\"/usersnp\", {\n      email,\n      password\n    });\n    console.log(response.data); // response.data.hasOwnProperty(\"badEmail\")\n    //   ? window.alert(\"Email não cadastrado\")\n    //   : response.data.hasOwnProperty(\"badPassword\")\n    //   ? window.alert(\"Senha incorreta\")\n    //   : handleLogin(response.data);\n  }\n\n  function handleLogin(logUser) {\n    const _id = logUser._id;\n    localStorage.setItem(\"user\", _id);\n    history.push(\"/profile\");\n  }\n\n  return React.createElement(\"div\", {\n    id: \"containerLogin\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, React.createElement(\"fieldset\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, React.createElement(\"legend\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, \"Login\"), React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Seu login ou email\",\n    required: true,\n    onChange: event => setEmail(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  })), React.createElement(\"fieldset\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"legend\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, \"Senha\"), React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Senha\",\n    required: true,\n    onChange: event => setPassword(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    className: \"btn\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"ENTRAR\")), React.createElement(Link, {\n    id: \"goToSingIn\",\n    to: \"/singin\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"btn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"Cadatrar\")));\n}","map":{"version":3,"sources":["/home/tadeu/JSProjects/PI/FluxoDeRestaurante/frontend/web/src/pages/login/index.js"],"names":["React","useState","Link","api","Login","history","email","setEmail","password","setPassword","handleSubmit","event","preventDefault","response","get","console","log","data","handleLogin","logUser","_id","localStorage","setItem","push","target","value"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,GAAP,MAAgB,oBAAhB;AACA,OAAO,cAAP;AAEA,eAAe,SAASC,KAAT,CAAe;AAAEC,EAAAA;AAAF,CAAf,EAA4B;AAAA,oBACfJ,QAAQ,CAAC,EAAD,CADO;AAAA;AAAA,QAClCK,KADkC;AAAA,QAC3BC,QAD2B;;AAAA,qBAETN,QAAQ,CAAC,EAAD,CAFC;AAAA;AAAA,QAElCO,QAFkC;AAAA,QAExBC,WAFwB;;AAGzC,iBAAeC,YAAf,CAA4BC,KAA5B,EAAmC;AACjCA,IAAAA,KAAK,CAACC,cAAN;AAEA,UAAMC,QAAQ,GAAG,MAAMV,GAAG,CAACW,GAAJ,CAAQ,UAAR,EAAoB;AACzCR,MAAAA,KADyC;AAEzCE,MAAAA;AAFyC,KAApB,CAAvB;AAIAO,IAAAA,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACI,IAArB,EAPiC,CAQjC;AACA;AACA;AACA;AACA;AACD;;AAED,WAASC,WAAT,CAAqBC,OAArB,EAA8B;AAAA,UACpBC,GADoB,GACZD,OADY,CACpBC,GADoB;AAE5BC,IAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BF,GAA7B;AACAf,IAAAA,OAAO,CAACkB,IAAR,CAAa,UAAb;AACD;;AACD,SACE;AAAK,IAAA,EAAE,EAAC,gBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAM,IAAA,QAAQ,EAAEb,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,EAEE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,WAAW,EAAC,oBAFd;AAGE,IAAA,QAAQ,MAHV;AAIE,IAAA,QAAQ,EAAEC,KAAK,IAAIJ,QAAQ,CAACI,KAAK,CAACa,MAAN,CAAaC,KAAd,CAJ7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,EAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,EAEE;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,WAAW,EAAC,OAFd;AAGE,IAAA,QAAQ,MAHV;AAIE,IAAA,QAAQ,EAAEd,KAAK,IAAIF,WAAW,CAACE,KAAK,CAACa,MAAN,CAAaC,KAAd,CAJhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAVF,EAmBE;AAAQ,IAAA,SAAS,EAAC,KAAlB;AAAwB,IAAA,IAAI,EAAC,QAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAnBF,CADF,EAwBE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,YAAT;AAAsB,IAAA,EAAE,EAAC,SAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAQ,IAAA,SAAS,EAAC,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CAxBF,CADF;AA8BD","sourcesContent":["import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport api from \"../../services/api\";\nimport \"./styles.css\";\n\nexport default function Login({ history }) {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  async function handleSubmit(event) {\n    event.preventDefault();\n\n    const response = await api.get(\"/usersnp\", {\n      email,\n      password\n    });\n    console.log(response.data);\n    // response.data.hasOwnProperty(\"badEmail\")\n    //   ? window.alert(\"Email não cadastrado\")\n    //   : response.data.hasOwnProperty(\"badPassword\")\n    //   ? window.alert(\"Senha incorreta\")\n    //   : handleLogin(response.data);\n  }\n\n  function handleLogin(logUser) {\n    const { _id } = logUser;\n    localStorage.setItem(\"user\", _id);\n    history.push(\"/profile\");\n  }\n  return (\n    <div id=\"containerLogin\">\n      <form onSubmit={handleSubmit}>\n        <fieldset>\n          <legend>Login</legend>\n          <input\n            type=\"text\"\n            placeholder=\"Seu login ou email\"\n            required\n            onChange={event => setEmail(event.target.value)}\n          />\n        </fieldset>\n        <fieldset>\n          <legend>Senha</legend>\n          <input\n            type=\"password\"\n            placeholder=\"Senha\"\n            required\n            onChange={event => setPassword(event.target.value)}\n          />\n        </fieldset>\n        <button className=\"btn\" type=\"submit\">\n          ENTRAR\n        </button>\n      </form>\n      <Link id=\"goToSingIn\" to=\"/singin\">\n        <button className=\"btn\">Cadatrar</button>\n      </Link>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}