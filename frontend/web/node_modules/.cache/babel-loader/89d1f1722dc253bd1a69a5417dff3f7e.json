{"ast":null,"code":"import _slicedToArray from \"/home/tadeu/JSProjects/PI/FluxoDeRestaurante/frontend/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/tadeu/JSProjects/PI/FluxoDeRestaurante/frontend/web/src/pages/table/index.js\";\nimport React, { useState, useEffect } from \"react\";\nimport useForm from \"react-hook-form\";\nimport api from \"../../services/api\";\nimport NavBar from \"../../components/navBar\";\nimport HomeBar from \"../../components/homeBar\";\nimport \"./styles.css\";\nimport direction from \"../../assets/button/direction.svg\";\nimport exclude from \"../../assets/button/destroy.svg\";\nexport default function Table() {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        tables = _useState2[0],\n        setTables = _useState2[1];\n\n  const _useForm = useForm(),\n        register = _useForm.register,\n        handleSubmit = _useForm.handleSubmit,\n        errors = _useForm.errors;\n\n  let _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      newNumber = _useState4[0],\n      setNewNumber = _useState4[1];\n\n  let _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      classi = _useState6[0],\n      setClassi = _useState6[1];\n\n  let _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      wave = _useState8[0],\n      setWave = _useState8[1];\n\n  function setInput() {\n    setNewNumber(\"\");\n    setClassi(\"\");\n    setWave(\"\");\n  }\n\n  const onSubmit = async data => {\n    const number = data.number,\n          classification = data.classification,\n          vacancies = data.vacancies;\n    const response = await api.post(\"/table\", {\n      number,\n      vacancies,\n      classification\n    });\n    tables.push(response.data);\n    setTables(tables);\n    window.alert(\"mesa \".concat(number, \" em \").concat(classification, \" foi adicionado a lista de mesas!\"));\n    setInput();\n  };\n\n  const tableList = React.createElement(\"ul\", {\n    className: \"table-list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, tables.map(item => React.createElement(\"li\", {\n    key: item._id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    key: item._id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"Mesa: \", React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, item.number)), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"Lugares: \", React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, item.vacancies)), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"Disponibilidade: \", React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, item.availability === true ? \"Disponivel\" : \"Ocupada\")), React.createElement(\"button\", {\n    className: \"direction\",\n    onClick: () => handleAvailability(item),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: direction,\n    alt: \"direction\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    className: \"exclude\",\n    onClick: () => handleDestroy(item),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: exclude,\n    alt: \"destroy\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  })))));\n\n  async function handleDestroy(table) {\n    const response = await api.delete(\"table/\".concat(table._id));\n    console.log(response);\n    const index = tables.indexOf(table._id);\n    tables.splice(index, 1);\n    console.log(tables);\n    localStorage.setItem(\"tables\", JSON.stringify(tables));\n    loadTable();\n  }\n\n  function handleAvailability(table) {\n    table.availability ? table.availability = false : table.availability = true;\n    const index = tables.indexOf(table._id);\n    tables[index] = table;\n    localStorage.setItem(\"tables\", JSON.stringify(tables));\n    loadTable();\n  }\n\n  function loadTable() {\n    setTables(JSON.parse(localStorage.getItem(\"tables\")));\n  }\n\n  useEffect(() => {\n    loadTable();\n  }, []);\n  return React.createElement(React.Fragment, null, React.createElement(HomeBar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    id: \"containerTable\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, React.createElement(NavBar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }), React.createElement(\"section\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"listTable\",\n    className: \"tableOne\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, tableList), React.createElement(\"div\", {\n    id: \"createTable\",\n    className: \"tableThree\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }), React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, React.createElement(\"fieldset\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(\"legend\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, \"N\\xFAmero\"), React.createElement(\"input\", {\n    type: \"number\",\n    placeholder: \"N\\xFAmero\",\n    name: \"number\",\n    value: newNumber,\n    ref: register({\n      required: true,\n      min: 0\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  })), React.createElement(\"fieldset\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, React.createElement(\"legend\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, \"Local\"), React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"local\",\n    name: \"classification\",\n    value: classi,\n    ref: register({\n      required: true\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  })), React.createElement(\"fieldset\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, React.createElement(\"legend\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, \"Lugares\"), React.createElement(\"input\", {\n    type: \"number\",\n    placeholder: \"lugares\",\n    name: \"vacancies\",\n    value: wave,\n    ref: register({\n      required: true,\n      min: 0\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  })), React.createElement(\"input\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  })))));\n}","map":{"version":3,"sources":["/home/tadeu/JSProjects/PI/FluxoDeRestaurante/frontend/web/src/pages/table/index.js"],"names":["React","useState","useEffect","useForm","api","NavBar","HomeBar","Table","tables","setTables","register","handleSubmit","errors","newNumber","setNewNumber","classi","setClassi","wave","setWave","setInput","onSubmit","data","number","classification","vacancies","response","post","push","window","alert","tableList","map","item","_id","availability","handleAvailability","direction","handleDestroy","exclude","table","delete","console","log","index","indexOf","splice","localStorage","setItem","JSON","stringify","loadTable","parse","getItem","required","min"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport useForm from \"react-hook-form\";\nimport api from \"../../services/api\"\n\nimport NavBar from \"../../components/navBar\";\nimport HomeBar from \"../../components/homeBar\";\nimport \"./styles.css\";\n\nimport direction from \"../../assets/button/direction.svg\";\nimport exclude from \"../../assets/button/destroy.svg\";\n\nexport default function Table() {\n  const [tables, setTables]= useState([]);\n  const { register, handleSubmit, errors } = useForm();\n  let [newNumber, setNewNumber] = useState(\"\")\n  let [classi, setClassi] = useState(\"\")\n  let [wave, setWave] = useState(\"\")\n\n  function setInput(){\n    setNewNumber(\"\")\n    setClassi(\"\")\n    setWave(\"\")\n  }\n\n  const onSubmit = async data => {\n    const { number, classification, vacancies } = data;\n   const response = await api.post(\"/table\", {\n      number,\n      vacancies,\n      classification\n  });\n  tables.push(response.data)\n\n\n    setTables(tables);\n    window.alert(`mesa ${number} em ${classification} foi adicionado a lista de mesas!`);\n    setInput()\n\n}\n  const tableList=(\n  <ul className=\"table-list\">\n      {tables.map(item => (\n        <li key={item._id}>\n          <span key={item._id}>\n            Mesa: <strong>{item.number}</strong>\n          </span>\n          <span>\n            Lugares: <strong>{item.vacancies }</strong>\n          </span>\n          <span>\n            Disponibilidade: <strong>{item.availability=== true?\"Disponivel\":\"Ocupada\"}</strong>\n          </span>\n          <button className=\"direction\" onClick={() => handleAvailability(item)}>\n            <img src={direction} alt=\"direction\" />\n          </button>\n          <button className=\"exclude\" onClick={() => handleDestroy(item)}>\n            <img src={exclude} alt=\"destroy\" />\n          </button>\n        </li>\n      ))}\n    </ul>\n\n\n)\n\n\n  async function handleDestroy(table){\n    const response = await api.delete(`table/${table._id}`)\n    console.log(response)\n    const index = tables.indexOf(table._id)\n    tables.splice(index,1)\n    console.log(tables)\n    localStorage.setItem(\n      \"tables\",\n    JSON.stringify( tables))\n    loadTable()\n\n\n  }\n  function handleAvailability(table){\n    table.availability?table.availability = false:table.availability = true\n    const index = tables.indexOf(table._id)\n    tables[index] = table\n    localStorage.setItem(\"tables\", JSON.stringify( tables))\n    loadTable()\n\n  }\nfunction loadTable(){\n  setTables(JSON.parse(localStorage.getItem(\"tables\")));\n\n}\n  useEffect(() => {\n    loadTable()\n  }, []);\n  return (\n\n    <>\n      <HomeBar />\n      <div id=\"containerTable\">\n        <NavBar />\n        <section>\n          <div id=\"listTable\" className=\"tableOne\">\n           {tableList}\n          </div>\n          <div id=\"createTable\" className=\"tableThree\"></div>\n          <form onSubmit={handleSubmit(onSubmit)}>\n              <fieldset>\n                <legend>Número</legend>\n                <input\n                  type=\"number\"\n                  placeholder=\"Número\"\n                  name=\"number\"\n                  value={newNumber}\n                  ref={register({ required: true,  min: 0})}\n                />\n              </fieldset>\n              <fieldset>\n                <legend>Local</legend>\n                <input\n                  type=\"text\"\n                  placeholder=\"local\"\n                  name=\"classification\"\n                  value={classi}\n                  ref={register({ required: true})}\n                />\n              </fieldset>\n              <fieldset>\n                <legend>Lugares</legend>\n                <input\n                  type=\"number\"\n                  placeholder=\"lugares\"\n                  name=\"vacancies\"\n                  value={wave}\n                  ref={register({ required: true, min: 0 })}\n                />\n              </fieldset>\n              <input type=\"submit\" />\n            </form>\n        </section>\n      </div>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}