{"ast":null,"code":"import _slicedToArray from \"/home/tadeu/JSProjects/PI/FluxoDeRestaurante/frontend/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/tadeu/JSProjects/PI/FluxoDeRestaurante/frontend/web/src/pages/dish/index.js\";\nimport React, { useState, useEffect, useMemo } from \"react\";\nimport useForm from \"react-hook-form\";\nimport NavBar from \"../../components/navBar\";\nimport HomeBar from \"../../components/homeBar\";\nimport api from \"../../services/api\";\nimport \"./styles.css\";\nexport default function Dish() {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        dishs = _useState2[0],\n        setDishs = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        ingredients = _useState4[0],\n        setIngredients = _useState4[1];\n\n  const _useState5 = useState(\"\"),\n        _useState6 = _slicedToArray(_useState5, 2),\n        operation = _useState6[0],\n        setOperation = _useState6[1];\n\n  const _useState7 = useState([]),\n        _useState8 = _slicedToArray(_useState7, 2),\n        classifications = _useState8[0],\n        setClassifications = _useState8[1];\n\n  const _useState9 = useState(\"\"),\n        _useState10 = _slicedToArray(_useState9, 2),\n        dish = _useState10[0],\n        setDish = _useState10[1];\n\n  const _useForm = useForm(),\n        register = _useForm.register,\n        handleSubmit = _useForm.handleSubmit,\n        errors = _useForm.errors;\n\n  const onSubmit = async data => {\n    const name = data.name,\n          price = data.price,\n          classification = data.classification;\n    delete data.name;\n    delete data.price;\n    delete data.classification;\n\n    for (let prop in data) {\n      if (data[prop] === false) {\n        delete data[prop];\n      }\n    }\n\n    const arr = Object.values(data);\n    api.post(\"/dish\", {\n      name,\n      price,\n      ingredients: arr,\n      classification\n    });\n  };\n\n  const preview = useMemo(() => {\n    return operation === \"1\" ? React.createElement(\"select\", {\n      onChange: event => setDish(event.target.value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, \"Escolha um prato\"), dishs.map(item => React.createElement(\"option\", {\n      key: item._id,\n      value: JSON.stringify(item),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, item.name))) : React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    });\n  }, [operation]);\n  useEffect(() => {\n    setDishs(JSON.parse(localStorage.getItem(\"dishs\")));\n    setIngredients(JSON.parse(localStorage.getItem(\"ingredients\")));\n    setClassifications(JSON.parse(localStorage.getItem(\"classification\")));\n    setOperation(\"0\");\n  }, []);\n  return React.createElement(React.Fragment, null, React.createElement(HomeBar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    id: \"containerDish\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(NavBar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }), React.createElement(\"section\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"frist\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \"NOVO\"), React.createElement(\"input\", {\n    className: \"range\",\n    type: \"range\",\n    id: \"range\",\n    max: \"1\",\n    min: \"0\",\n    value: operation,\n    onChange: event => setOperation(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \"EDITAR\"), preview), React.createElement(\"div\", {\n    className: \"second\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(\"fieldset\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(\"legend\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"Nome\"), React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Nome\",\n    name: \"name\",\n    ref: register({\n      required: true\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  })), React.createElement(\"fieldset\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, React.createElement(\"legend\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, \"Pre\\xE7o\"), React.createElement(\"input\", {\n    type: \"number\",\n    placeholder: \"Pre\\xE7o\",\n    name: \"price\",\n    ref: register({\n      required: true,\n      min: 0\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  })), React.createElement(\"fieldset\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, React.createElement(\"legend\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, \"Classifica\\xE7\\xE3o\"), React.createElement(\"select\", {\n    name: \"classification\",\n    ref: register({\n      required: true\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    value: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }), classifications.map(item => {\n    if (item.section === \" dish\") {\n      return React.createElement(\"option\", {\n        key: item._id,\n        value: item._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"item.classification\");\n    }\n  }))), React.createElement(\"fieldset\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, React.createElement(\"legend\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, \"ingredientes\"), React.createElement(\"div\", {\n    id: \"listIngredient\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, ingredients.map(ingre => React.createElement(\"section\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    key: ingre._id,\n    type: \"checkbox\",\n    placeholder: ingre._id,\n    name: ingre._id,\n    value: ingre._id,\n    ref: register,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: ingre._id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, ingre.name))))), React.createElement(\"input\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }))))));\n}","map":{"version":3,"sources":["/home/tadeu/JSProjects/PI/FluxoDeRestaurante/frontend/web/src/pages/dish/index.js"],"names":["React","useState","useEffect","useMemo","useForm","NavBar","HomeBar","api","Dish","dishs","setDishs","ingredients","setIngredients","operation","setOperation","classifications","setClassifications","dish","setDish","register","handleSubmit","errors","onSubmit","data","name","price","classification","prop","arr","Object","values","post","preview","event","target","value","map","item","_id","JSON","stringify","parse","localStorage","getItem","required","min","section","ingre"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useMemo } from \"react\";\nimport useForm from \"react-hook-form\";\nimport NavBar from \"../../components/navBar\";\nimport HomeBar from \"../../components/homeBar\";\n\nimport api from \"../../services/api\";\n\nimport \"./styles.css\";\n\nexport default function Dish() {\n  const [dishs, setDishs] = useState([]);\n  const [ingredients, setIngredients] = useState([]);\n  const [operation, setOperation] = useState(\"\");\n  const [classifications, setClassifications] = useState([]);\n\n  const [dish, setDish] = useState(\"\");\n\n  const { register, handleSubmit, errors } = useForm();\n\n  const onSubmit = async data => {\n    const { name, price, classification } = data;\n    delete data.name;\n    delete data.price;\n    delete data.classification\n\n    for (let prop in data) {\n      if (data[prop] === false) {\n        delete data[prop];\n      }\n    }\n    const arr = Object.values(data);\n\n    api.post(\"/dish\", {\n      name,\n      price,\n      ingredients: arr,\n      classification\n    });\n  };\n\n  const preview = useMemo(() => {\n    return operation === \"1\" ? (\n      <select onChange={event => setDish(event.target.value)}>\n        <option value=\"\">Escolha um prato</option>\n        {dishs.map(item => (\n          <option key={item._id} value={JSON.stringify(item)}>\n            {item.name}\n          </option>\n        ))}\n      </select>\n    ) : (\n      <span />\n    );\n  }, [operation]);\n  useEffect(() => {\n    setDishs(JSON.parse(localStorage.getItem(\"dishs\")));\n    setIngredients(JSON.parse(localStorage.getItem(\"ingredients\")));\n    setClassifications(JSON.parse(localStorage.getItem(\"classification\")))\n    setOperation(\"0\");\n  }, []);\n\n  return (\n    <>\n      <HomeBar />\n      <div id=\"containerDish\">\n        <NavBar />\n        <section>\n          <div className=\"frist\">\n            <span>NOVO</span>\n\n            <input\n              className=\"range\"\n              type=\"range\"\n              id=\"range\"\n              max=\"1\"\n              min=\"0\"\n              value={operation}\n              onChange={event => setOperation(event.target.value)}\n            />\n            <span>EDITAR</span>\n            {preview}\n          </div>\n          <div className=\"second\">\n            <form onSubmit={handleSubmit(onSubmit)}>\n              <fieldset>\n                <legend>Nome</legend>\n                <input\n                  type=\"text\"\n                  placeholder=\"Nome\"\n                  name=\"name\"\n                  ref={register({ required: true })}\n                />\n              </fieldset>\n              <fieldset>\n                <legend>Preço</legend>\n                <input\n                  type=\"number\"\n                  placeholder=\"Preço\"\n                  name=\"price\"\n                  ref={register({ required: true, min: 0 })}\n                />\n              </fieldset>\n              <fieldset>\n                <legend>Classificação</legend>\n                <select name=\"classification\" ref={register({ required: true})}>\n                  <option value=\"\"></option>\n                  {classifications.map(item => {\n                    if(item.section ===\" dish\"){\n                      return(\n                        <option key={item._id}value={item._id}>item.classification</option>\n                      )\n                    }\n                  })}    \n                </select>\n              </fieldset>\n              <fieldset>\n                <legend>ingredientes</legend>\n                <div id=\"listIngredient\">\n                  {ingredients.map(ingre => (\n                    <section>\n                      <input\n                        key={ingre._id}\n                        type=\"checkbox\"\n                        placeholder={ingre._id}\n                        name={ingre._id}\n                        value={ingre._id}\n                        ref={register}\n                      />\n\n                      <label htmlFor={ingre._id}>{ingre.name}</label>\n                    </section>\n                  ))}\n                </div>\n              </fieldset>\n              <input type=\"submit\" />\n            </form>\n          </div>\n        </section>\n      </div>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}